BY DEFAULT WE can create 5 vpc only of we need more we need to send request to aws team
=================steps to create a vpc===============

1. Decide on VPC name and create a new VPC. For this class VPC name is AWS-JAN-21-VPC and IP Address space we are going to use is 10.1.0.0/16 =>65000 IPs. 
Enable DNS Hostnames.

2. Create three subnets in AWS-JAN-21.Enable automatic IP Assignment.

JAN-21-Subnet1 - 10.1.1.0/24 -1a
JAN-21-Subnet2 - 10.1.2.0/24 -1b
JAN-21-Subnet3 - 10.1.3.0/24 -1c

3. Create internet gateway and attach it to VPC. IGW name is AWS-JAN-21-IGW.

4. Create new routing table for AWS-JAN-21 and assosiate subnets to it. Ignore the default routing table.

5. Add routes in the routing table towards Internet Gateway.

6. Create a security group Infy-VPC-SG and allow all in bound ports.

7. Create a Key-Pair which create Public and Private Keys. AWS will have Public Key and you will be given private key. We need to use the private key to login to the instance.

8. Deploy a Linux t2.micro instance and connect to it using private key u have created.

=======================================================================================================

detail explanation
Virtual private cloud . 10.2.1.0/24
1. Decide what IP Range we need to use : 10.0.0.0/16 (255.255.0.0)
2. Create a VPC and name it as rajvpc. ENable DNS Hostnames.
3. Create 3 Subnets as below:
   raj-Subnet-1 - 10.1.1.0/24 - us-east-1a
   raj-Subnet-2 - 10.1.2.0/24 - us-east-1b
   Ford-Subnet-3 - 10.1.3.0/24 - us-east-1c
Once Subnets are created, enable automatic public ip assignment.
4. Create internet gateway using Name Ford-IGW and attach to VPC.
5. Create a new routing table as Ford-Main-Table and attach Subnets to it.
6. Create a route towards IGW.
7. Create a Security Group and allow all ports.
8. Create a Key Pair.
9. Deploy a new VM/Instance/Server and connect using the key u created in step 8.


Step2:as follows click on create.
*** choose ur vpc actions → edit dns hostname → enable→ save that vpx
NoteWhen we are creating a vpc then default some route and network acls and security groups are created.
.
Step 3. Create 3 Subnets as below:
   raj-Subnet-1 - 10.0.1.0/24 - us-east-1a
   raj-Subnet-2 - 10.0.2.0/24 - us-east-1b
   raj-Subnet-3 - 10.0.3.0/24 - us-east-1c
Once Subnets are created, enable automatic public ip assignment.
Here we need to add 3 subnets with different availabilty zones and different cidr.



Now our vpc is present on 3 availability zones of n.verginia region.
Note: when u created subnetes ut will take as az to that region.
*** after all subenets created → check ur each and every subnet → modify auto assign ipaddress→ check on enable auto assign ipaddress.
4. Create internet gateway using Name raj-IGW and attach to VPC
Note : if u want get access your vpc we need Internet Gateway(IGW)
Go to internetgateway → create → give ur igw name.

After creating ur gateway check on ur gateway and actions choose ur attach vpc → search ur vpc name → attach it.

Note: we only attach one internet gateway to one vpc .(we can’t attach multiple igw to 1 VPC).

 5. Create a new routing table as Ford-Main-Table and attach Subnets to it.
By using routes we can guide them how it will go outside.

Click on route tables → create a route table → name rajroute → choose rajvpc → click on create.
5. Create a new routing table as Ford-Main-Table and attach Subnets to it.


After creating ur route table → check ur route name → below tab click on subnet association → here u will see all the subnets. → edit → check 3 subnets → click on save.

Above setup we did for internal communication thats why we add routes to subnet.
6. Create a route towards IGW.
If we want access from outside we need tell that routes when we access from outside follow this procedure for that → 
Check ur routes below click on routes tab → click on edit routes → add rule → in destination (0.0.0.0/0) + target (internet gateway click on it + choose ur gateway) → click on save.


7. Create a Security Group name rajvpc and allow all ports.
Now it wiil allow all traffic from outside for securing purpose we are going to add the security groups .
Create a security group → give name of security group → and under vpc + choose our vpc → inbound rules (for demo purpose all traffic in real time don’t use all traffic) →
Create security group.


8. Create a Key Pair. (create a ur own key )
As of now i am using my default key.
For that go to ec2 → create your own key.

DEploy a linux micro instance ..


Under configure details follow above procedure.--> security groups choose ur rajvpc security groups → key pair don’t have create it or exist use it → launch instance.

After go to the terminal using mobxtream or putty.using public ip address.

If its logged in means successfully we configure vpc.
